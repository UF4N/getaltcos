# Структура данных подветок

Действия, необходимые для создания подветок описываются в файле `ALTCOSfile.yml`.

Файл имеет следущую структуру:
- `version` (string) - версия формата файла. В настоящее время `2.0.
- `from` (string - версия ветки от которой строится подветка. 
  Формат `altcos/<архитектура>/<платформа>:<дата>.<major>.<minor>`. Например: `20211207.0.0`.
- `actions` (list of objects) - последовательность действий (`action`) по формировании подветки. Действия:
  * `run` (list of strings) - выполнияется указанныя команда. Файлы, сформированные после выполнения команды попадут в образ подветки.  (**возможно стоит заменить на string**)
  * `env` (list of objects) -  устанавливаются перечисленные переменные. Поддерживаются два формата: 
```
<переменная>: <значение>
<переменная>:
  cmd: <команда>
```
  Во втором случае в указанную переменную записывается результат выполнения команды. Если в результате выполнения команды
  формируются файлы, они попадают в формируемый образ подветки.
  * `rpms` (list of objects) - список пакетов которые необходимо установить, предварительно выполнив `apt get upgrade`.
  * `podman` -
  * `butane` - 

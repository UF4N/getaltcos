# Установка и настрока WEB-серверов для административного и клиентского WEB/REST интерфейсов

Для работы с ostree-репозиториями и образами ACOS поддерживаются два интерфейса:
- административный интерфейс на порту 81;
- клиентский интерфейс на порту 80;

Административный интерфейс предназначен для создания, обновления версий веток и подветок потоков:
- доступен только в рамках подсети Базальт;
- работает с корнем данного репозитория (начальная страница /index.php), 
- пользователь apache2 под которым работает сайт входит в группу wheel, позволяющей выполнять shell скрипты с правами root;
- все каталоги подкаталога данных ACOS доступны на чтение-запись.

Клиентский интерфейс преднаначен для предоставлении информации клиенту, скачивания образов и обровлений из архивного ostree-репозитория:
- доступен из Интернета;
- корневым директорием является подкаталог данных /ACOS, вышележащие каталоги с скрипты недоступны;
- пользователь apache2 под которым работает сайт имеет стандартные права;
- корневой каталог /ACOS монтируется ТОЛЬКО НА ЧТЕНИЕ (RO);

Оба интерфейса запускаются в виде docker-сервисов через docker-compose.

## Сборка docker-образа getacos клиентского инетрфейса
Сборка производится в каталоге `/docker/getacos`.

[Dockerfile](https://raw.githubusercontent.com/alt-cloud/getacos/feature-acosfile/docker/getacos/Dockerfile).

